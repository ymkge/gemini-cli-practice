# 日本株分析ツール

## 概要

このツールは、指定した時価総額以上の日本株の銘柄を抽出し、テクニカル指標（RCI、フィボナッチリトレースメント）を算出して分析するためのStreamlitアプリケーションです。

## 主な機能

- **時価総額での銘柄抽出:**
  - StreamlitのUI上から時価総額（億単位）を指定できます。
  - Yahoo!ファイナンスの時価総額ランキングから、指定した時価総額以上の銘柄情報をスクレイピングして取得します。

- **テクニカル指標の算出と表示:**
  - 抽出した銘柄に対して、以下のテクニカル指標を算出します。
    - **RCI（順位相関係数）:** 1年、5年、10年の期間で計算します。
    - **フィボナッチリトレースメント:** 1年、5年、10年の期間で、株価が23.6%のラインを割っているかどうかを判定します。
  - 算出した結果をRCI（1年）の昇順でソートし、Streamlit上に一覧表示します。
  - RCI（1年）のヒストグラム（10%区切り）を可視化し、現在の相場の過熱感などを把握しやすくします。

- **データのエクスポート:**
  - 分析結果のデータを、StreamlitのUI上から簡単にスプレッドシート（CSV形式）にエクスポートできます。

## RCI値に関する注意点

本ツールで算出されるRCI値は、`yfinance` から取得した株価データと標準的な計算ロジックに基づいています。しかし、以下の理由により、SBI証券などの他のプラットフォームで表示されるRCI値と乖離が生じる可能性があります。

- **データソースの違い:** 各プラットフォームが使用する株価データの提供元や、データの定義（例: 調整後終値か単純終値か）が異なる場合があります。
- **計算期間の定義:** 「1年」「5年」「10年」といった期間の定義（例: 厳密な日付範囲か、取引日数ベースか）が異なる場合があります。

そのため、本ツールで表示されるRCI値はあくまで参考情報としてご利用ください。最終的な投資判断は、複数の情報源とご自身の分析に基づいて行ってください。

## 実行環境

- Python
- Streamlit

## セットアップと実行方法

1. **リポジトリのクローン:**
   ```bash
   git clone https://github.com/あなたのユーザー名/stock_analyzer.git
   cd stock_analyzer
   ```

2. **必要なライブラリのインストール:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Streamlitアプリケーションの実行:**
   ```bash
   streamlit run app.py
   ```